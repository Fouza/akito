{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\THINKPAD L480\\\\Desktop\\\\Work\\\\akito\\\\src\\\\components\\\\Profile.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { IonContent, IonCard, IonCardHeader, IonCardTitle, IonCardContent, IonItem, IonLabel, IonButton, IonGrid, IonRow, IonCol, IonImg, IonThumbnail, IonList, IonInput, IonSelect, IonSelectOption, IonDatetime, isPlatform, IonAlert } from \"@ionic/react\"; // import image from \"../assets/meme.jpg\";\n\nimport \"@mobiscroll/react/dist/css/mobiscroll.min.css\";\nimport { CameraResultType, Plugins } from \"@capacitor/core\";\nimport axios from \"axios\";\n// import \"./Calendrier.css\";\nimport \"./profile.css\";\nconst {\n  Camera\n} = Plugins;\n\nconst Profile = ({\n  name\n}) => {\n  const [email, setEmail] = useState(localStorage.getItem(\"email\"));\n  const [pwd, setPwd] = useState(\"\");\n  const [oldPwd, setOldPwd] = useState(\"\");\n  const [age, setAge] = useState();\n  const [taille, setTaille] = useState();\n  const [sexe, setSexe] = useState();\n  const [obj, setObj] = useState();\n  const [photo, setPhoto] = useState();\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const [nom, setNom] = useState();\n  const [prenom, setPrenom] = useState();\n  const [poid, setPoid] = useState();\n  const [username, setUsername] = useState(localStorage.getItem(\"username\"));\n  const [oldUsername, setOldUsername] = useState(username === null || username === void 0 ? void 0 : username.slice(1, username.length - 1));\n  const [id, setId] = useState(localStorage.getItem(\"id\"));\n  const [alert, setAlert] = useState(false);\n  const [message, setMessage] = useState(\"Mise à jour avec succès\");\n  const [image, setImage] = useState(\"\");\n  const [fitness, setFitness] = useState({\n    nom: \"\",\n    prenom: \"\",\n    birthdate: \"\",\n    sexe: \"\",\n    taille: 0,\n    poids: 0,\n    image: \"\"\n  });\n\n  async function takePicture() {\n    const image = await Camera.getPhoto({\n      quality: 90,\n      allowEditing: false,\n      resultType: CameraResultType.Uri\n    });\n    let imageUrl = image.webPath; // Can be set to the src of an image now\n\n    setPhoto(imageUrl);\n  }\n\n  const takePhotoComponent = () => {\n    // console.log(isPlatform(\"desktop\"));\n    if (isPlatform(\"desktop\")) {\n      return /*#__PURE__*/React.createElement(IonItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"item-input\",\n        type: \"file\",\n        onChange: e => setPhoto(e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(IonItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(IonButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, \"Choisir une photo\"), /*#__PURE__*/React.createElement(IonImg, {\n        class: \"photoUser\",\n        style: {},\n        src: photo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }\n      }));\n    }\n  };\n\n  async function submitMoreInfo() {\n    let config = {\n      headers: {\n        Accept: \"application/json\",\n        \"Access-Control-Allow-Headers\": \"Origin, X-Requested-With, Content-Type, Accept\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    };\n    await axios.post(`http://e6e5dc2619e6.ngrok.io/api/service/user/${localStorage.getItem(\"id\")}/addProfile`, {\n      birthdate: selectedDate,\n      currentWeight: poid,\n      firstname: prenom,\n      lastname: nom,\n      gender: sexe,\n      heightCm: taille,\n      image: photo\n    }, config).then(res => {\n      localStorage.setItem(\"fitnessExist\", \"true\");\n    }).catch(err => console.log(err));\n  }\n\n  async function submitUpdate() {\n    let config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept-Charset\": \"UTF-8\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    };\n    await axios.put(`http://e6e5dc2619e6.ngrok.io/api/service/user/updateRequestSign/${id}`, {\n      username: username,\n      email: email,\n      password: pwd\n    }, config).then(res => {\n      // console.log(res.data);\n      // localStorage.setItem(\"email\", res.data.email);\n      localStorage.setItem(\"username\", res.data.username);\n      setUsername(res.data.username);\n      localStorage.setItem(\"email\", res.data.email);\n      setEmail(res.data.email);\n      window.location.reload();\n    }).catch(err => alertError(err.response.data.message));\n  }\n\n  async function submitUpdatePassword() {\n    let config = {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    };\n    await axios.put(`http://e6e5dc2619e6.ngrok.io/api/service/user/detailsUser/${id}/updatePassword`, {\n      oldPassword: oldPwd,\n      newPassword: pwd\n    }, config).then(res => {\n      console.log(res.data); // localStorage.setItem(\"email\", res.data.email);\n\n      localStorage.setItem(\"username\", res.data.username);\n    }).catch(err => console.log(err));\n  }\n\n  async function getFitness() {\n    let config = {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    };\n    await axios.get(`http://e6e5dc2619e6.ngrok.io/api/service/user/getCurrent/${localStorage.getItem(\"id\")}`, config).then(res => {\n      console.log(res.data.fitness.image);\n      let data = {\n        nom: res.data.fitness.lastname,\n        prenom: res.data.fitness.firstname,\n        birthdate: res.data.fitness.birthdate,\n        sexe: res.data.fitness.sexe,\n        taille: res.data.fitness.heightCm,\n        poids: res.data.fitness.currentWeight,\n        image: res.data.fitness.image\n      };\n      setFitness(data);\n    }).catch(err => console.log(err));\n  }\n\n  useEffect(() => {\n    getFitness();\n  }, []);\n\n  function handleSubmitMoreInfo() {\n    submitMoreInfo();\n  }\n\n  function handleSubmitUpdate() {\n    submitUpdate();\n  }\n\n  function handleSubmitUpdatePassword() {\n    submitUpdatePassword();\n  }\n\n  function alertError(message) {\n    setMessage(message);\n    setAlert(true);\n  } // console.log(localStorage.getItem(\"fitnessExist\"));\n  // console.log(localStorage.getItem(\"id\"));\n  // console.log(localStorage.getItem(\"fitnessExist\"));\n\n\n  return /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: localStorage.getItem(\"fitnessExist\") === \"false\",\n    header: \"Information !\",\n    mode: \"ios\",\n    message: \"Pour continuez , il nous faut quelques informations ! Allez à la page Profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: alert,\n    onDidDismiss: () => setAlert(false),\n    header: \"Error\",\n    mode: \"ios\" //ubHeader={\"Inscription avec succès\"}\n    ,\n    message: message,\n    buttons: [\"OK\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonGrid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCardHeader, {\n    class: \"bar bar-header bar-assertive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonThumbnail, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonImg, {\n    src: image,\n    class: \"photoUser\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(IonCardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonCardTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 15\n    }\n  }, \"Bonjour, \", username), \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, laborum itaque facilis cupiditate quis rerum. Dolorem corporis, aut esse officia inventore possimus alias excepturi optio temporibus fugiat. Corporis, pariatur at.\"))), /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    sizeLg: \"6\",\n    sizeXs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonCardHeader, {\n    class: \"title-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 17\n    }\n  }, \"Mettre \\xE0 jour vos informations\")), /*#__PURE__*/React.createElement(IonCardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 21\n    }\n  }, \"Pseudo \"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"text\",\n    placeholder: username + \"\",\n    onIonChange: e => setUsername(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 21\n    }\n  }, \"E-mail\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"email\",\n    placeholder: email + \"\",\n    onIonChange: e => setEmail(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 21\n    }\n  }, \"Mot de passe\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"password\",\n    placeholder: \"*********\",\n    required: true,\n    onIonChange: e => setPwd(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(IonButton, {\n    class: \"btn-maj\",\n    expand: \"block\",\n    fill: \"clear\",\n    onClick: () => handleSubmitUpdate(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 23\n    }\n  }, \"Mettre \\xE0 jour\"))))))), /*#__PURE__*/React.createElement(IonCol, {\n    sizeLg: \"6\",\n    sizeXs: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(IonCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonCardHeader, {\n    class: \"title-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 17\n    }\n  }, \"Plus d'information pour plus de r\\xE9sultats\")), /*#__PURE__*/React.createElement(IonCardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 21\n    }\n  }, \"Nom\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"text\",\n    placeholder: fitness.nom,\n    onIonChange: e => setNom(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 21\n    }\n  }, \"Pr\\xE9nom\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"text\",\n    placeholder: fitness.prenom,\n    onIonChange: e => setPrenom(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 21\n    }\n  }, \"Date de naissance\"), /*#__PURE__*/React.createElement(IonDatetime, {\n    displayFormat: \"YYYY:MM:DD\",\n    value: selectedDate,\n    placeholder: fitness.birthdate,\n    onIonChange: e => setSelectedDate(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 21\n    }\n  }, \"Sexe\"), /*#__PURE__*/React.createElement(IonSelect, {\n    placeholder: fitness.sexe,\n    onIonChange: e => setSexe(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"Homme\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 23\n    }\n  }, \"Homme\"), /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"Femmme\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 23\n    }\n  }, \"Femme\"))), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 21\n    }\n  }, \"Taille (Cm)\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"number\",\n    placeholder: fitness.taille + \"\",\n    onIonChange: e => setTaille(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 21\n    }\n  }, \"Poids (Kg)\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"number\",\n    placeholder: fitness.poids + \"\",\n    onIonChange: e => setPoid(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 21\n    }\n  })), takePhotoComponent(), /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(IonButton, {\n    class: \"btn-maj\",\n    expand: \"block\",\n    fill: \"clear\",\n    onClick: e => handleSubmitMoreInfo(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 23\n    }\n  }, \"Enregistrer\"))))))))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/THINKPAD L480/Desktop/Work/akito/src/components/Profile.tsx"],"names":["React","useState","useEffect","IonContent","IonCard","IonCardHeader","IonCardTitle","IonCardContent","IonItem","IonLabel","IonButton","IonGrid","IonRow","IonCol","IonImg","IonThumbnail","IonList","IonInput","IonSelect","IonSelectOption","IonDatetime","isPlatform","IonAlert","CameraResultType","Plugins","axios","Camera","Profile","name","email","setEmail","localStorage","getItem","pwd","setPwd","oldPwd","setOldPwd","age","setAge","taille","setTaille","sexe","setSexe","obj","setObj","photo","setPhoto","selectedDate","setSelectedDate","nom","setNom","prenom","setPrenom","poid","setPoid","username","setUsername","oldUsername","setOldUsername","slice","length","id","setId","alert","setAlert","message","setMessage","image","setImage","fitness","setFitness","birthdate","poids","takePicture","getPhoto","quality","allowEditing","resultType","Uri","imageUrl","webPath","takePhotoComponent","e","target","value","submitMoreInfo","config","headers","Accept","Authorization","post","currentWeight","firstname","lastname","gender","heightCm","then","res","setItem","catch","err","console","log","submitUpdate","put","password","data","window","location","reload","alertError","response","submitUpdatePassword","oldPassword","newPassword","getFitness","get","handleSubmitMoreInfo","handleSubmitUpdate","handleSubmitUpdatePassword","detail"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  IonContent,\r\n  IonHeader,\r\n  IonPage,\r\n  IonTitle,\r\n  IonToolbar,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardSubtitle,\r\n  IonCardTitle,\r\n  IonCardContent,\r\n  IonItem,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonButton,\r\n  IonGrid,\r\n  IonRow,\r\n  IonCol,\r\n  IonImg,\r\n  IonThumbnail,\r\n  IonList,\r\n  IonInput,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonDatetime,\r\n  isPlatform,\r\n  IonAlert,\r\n} from \"@ionic/react\";\r\n// import image from \"../assets/meme.jpg\";\r\nimport mobiscroll from \"@mobiscroll/react\";\r\nimport \"@mobiscroll/react/dist/css/mobiscroll.min.css\";\r\nimport { useCamera } from \"@ionic/react-hooks/camera\";\r\nimport {\r\n  CameraResultType,\r\n  CameraSource,\r\n  CameraPhoto,\r\n  Capacitor,\r\n  FilesystemDirectory,\r\n  Plugins,\r\n} from \"@capacitor/core\";\r\nimport axios from \"axios\";\r\nimport { stringify } from \"querystring\";\r\n// import \"./Calendrier.css\";\r\nimport \"./profile.css\";\r\n\r\nconst { Camera } = Plugins;\r\ninterface ProfileProps {\r\n  name: string;\r\n}\r\n\r\nconst Profile: React.FC<ProfileProps> = ({ name }) => {\r\n  const [email, setEmail] = useState(localStorage.getItem(\"email\"));\r\n  const [pwd, setPwd] = useState<String>(\"\");\r\n  const [oldPwd, setOldPwd] = useState<String>(\"\");\r\n  const [age, setAge] = useState<String>();\r\n  const [taille, setTaille] = useState<String>();\r\n  const [sexe, setSexe] = useState<String>();\r\n  const [obj, setObj] = useState<String>();\r\n  const [photo, setPhoto] = useState<string>();\r\n  const [selectedDate, setSelectedDate] = useState<string>(\"\");\r\n  const [nom, setNom] = useState<string>();\r\n  const [prenom, setPrenom] = useState<string>();\r\n  const [poid, setPoid] = useState<string>();\r\n  const [username, setUsername] = useState(localStorage.getItem(\"username\"));\r\n  const [oldUsername, setOldUsername] = useState(\r\n    username?.slice(1, username.length - 1)\r\n  );\r\n  const [id, setId] = useState(localStorage.getItem(\"id\"));\r\n  const [alert, setAlert] = useState(false);\r\n  const [message, setMessage] = useState(\"Mise à jour avec succès\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [fitness, setFitness] = useState({\r\n    nom: \"\",\r\n    prenom: \"\",\r\n    birthdate: \"\",\r\n    sexe: \"\",\r\n    taille: 0,\r\n    poids: 0,\r\n    image: \"\",\r\n  });\r\n  async function takePicture() {\r\n    const image = await Camera.getPhoto({\r\n      quality: 90,\r\n      allowEditing: false,\r\n      resultType: CameraResultType.Uri,\r\n    });\r\n\r\n    let imageUrl = image.webPath;\r\n\r\n    // Can be set to the src of an image now\r\n    setPhoto(imageUrl);\r\n  }\r\n\r\n  const takePhotoComponent = () => {\r\n    // console.log(isPlatform(\"desktop\"));\r\n    if (isPlatform(\"desktop\")) {\r\n      return (\r\n        <IonItem>\r\n          <input\r\n            className=\"item-input\"\r\n            type=\"file\"\r\n            onChange={(e) => setPhoto(e.target.value)}\r\n          ></input>\r\n        </IonItem>\r\n      );\r\n    } else {\r\n      return (\r\n        <IonItem>\r\n          <IonButton>Choisir une photo</IonButton>\r\n          <IonImg class=\"photoUser\" style={{}} src={photo}></IonImg>\r\n        </IonItem>\r\n      );\r\n    }\r\n  };\r\n  async function submitMoreInfo() {\r\n    let config = {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Access-Control-Allow-Headers\":\r\n          \"Origin, X-Requested-With, Content-Type, Accept\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    };\r\n    await axios\r\n      .post(\r\n        `http://e6e5dc2619e6.ngrok.io/api/service/user/${localStorage.getItem(\r\n          \"id\"\r\n        )}/addProfile`,\r\n        {\r\n          birthdate: selectedDate,\r\n          currentWeight: poid,\r\n          firstname: prenom,\r\n          lastname: nom,\r\n          gender: sexe,\r\n          heightCm: taille,\r\n          image: photo,\r\n        },\r\n        config\r\n      )\r\n      .then((res) => {\r\n        localStorage.setItem(\"fitnessExist\", \"true\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  async function submitUpdate() {\r\n    let config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Accept-Charset\": \"UTF-8\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    };\r\n    await axios\r\n      .put(\r\n        `http://e6e5dc2619e6.ngrok.io/api/service/user/updateRequestSign/${id}`,\r\n        {\r\n          username: username,\r\n          email: email,\r\n          password: pwd,\r\n        },\r\n        config\r\n      )\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        // localStorage.setItem(\"email\", res.data.email);\r\n        localStorage.setItem(\"username\", res.data.username);\r\n        setUsername(res.data.username);\r\n        localStorage.setItem(\"email\", res.data.email);\r\n        setEmail(res.data.email);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => alertError(err.response.data.message));\r\n  }\r\n  async function submitUpdatePassword() {\r\n    let config = {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    };\r\n    await axios\r\n      .put(\r\n        `http://e6e5dc2619e6.ngrok.io/api/service/user/detailsUser/${id}/updatePassword`,\r\n        {\r\n          oldPassword: oldPwd,\r\n          newPassword: pwd,\r\n        },\r\n        config\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        // localStorage.setItem(\"email\", res.data.email);\r\n        localStorage.setItem(\"username\", res.data.username);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  async function getFitness() {\r\n    let config = {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    };\r\n    await axios\r\n      .get(\r\n        `http://e6e5dc2619e6.ngrok.io/api/service/user/getCurrent/${localStorage.getItem(\r\n          \"id\"\r\n        )}`,\r\n        config\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data.fitness.image);\r\n\r\n        let data = {\r\n          nom: res.data.fitness.lastname,\r\n          prenom: res.data.fitness.firstname,\r\n          birthdate: res.data.fitness.birthdate,\r\n          sexe: res.data.fitness.sexe,\r\n          taille: res.data.fitness.heightCm,\r\n          poids: res.data.fitness.currentWeight,\r\n          image: res.data.fitness.image,\r\n        };\r\n        setFitness(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  useEffect(() => {\r\n    getFitness();\r\n  }, []);\r\n\r\n  function handleSubmitMoreInfo() {\r\n    submitMoreInfo();\r\n  }\r\n  function handleSubmitUpdate() {\r\n    submitUpdate();\r\n  }\r\n  function handleSubmitUpdatePassword() {\r\n    submitUpdatePassword();\r\n  }\r\n  function alertError(message: string) {\r\n    setMessage(message);\r\n    setAlert(true);\r\n  }\r\n  // console.log(localStorage.getItem(\"fitnessExist\"));\r\n  // console.log(localStorage.getItem(\"id\"));\r\n  // console.log(localStorage.getItem(\"fitnessExist\"));\r\n  return (\r\n    <IonContent>\r\n      <IonAlert\r\n        isOpen={localStorage.getItem(\"fitnessExist\") === \"false\"}\r\n        header={\"Information !\"}\r\n        mode=\"ios\"\r\n        message={\r\n          \"Pour continuez , il nous faut quelques informations ! Allez à la page Profile\"\r\n        }\r\n      ></IonAlert>\r\n      <IonAlert\r\n        isOpen={alert}\r\n        onDidDismiss={() => setAlert(false)}\r\n        header={\"Error\"}\r\n        mode=\"ios\"\r\n        //ubHeader={\"Inscription avec succès\"}\r\n        message={message}\r\n        buttons={[\"OK\"]}\r\n      />\r\n      <IonGrid>\r\n        <IonRow>\r\n          <IonCard>\r\n            <IonCardHeader class=\"bar bar-header bar-assertive\">\r\n              <IonThumbnail>\r\n                <IonImg src={image} class=\"photoUser\" />\r\n              </IonThumbnail>\r\n              <br />\r\n              <br />\r\n              <br />\r\n            </IonCardHeader>\r\n\r\n            <IonCardContent>\r\n              <IonCardTitle>Bonjour, {username}</IonCardTitle>\r\n              Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque,\r\n              laborum itaque facilis cupiditate quis rerum. Dolorem corporis,\r\n              aut esse officia inventore possimus alias excepturi optio\r\n              temporibus fugiat. Corporis, pariatur at.\r\n            </IonCardContent>\r\n          </IonCard>\r\n        </IonRow>\r\n        <IonRow>\r\n          <IonCol sizeLg=\"6\" sizeXs=\"12\">\r\n            <IonCard>\r\n              <IonCardHeader class=\"title-card\">\r\n                <strong>Mettre à jour vos informations</strong>\r\n                {/* {username?.slice(1, username.length - 1)} */}\r\n              </IonCardHeader>\r\n              <IonCardContent>\r\n                <IonList>\r\n                  <IonItem>\r\n                    <IonLabel>Pseudo </IonLabel>\r\n                    <IonInput\r\n                      type=\"text\"\r\n                      placeholder={username + \"\"}\r\n                      onIonChange={(e) => setUsername(e.detail.value!)}\r\n                    ></IonInput>\r\n                  </IonItem>\r\n                  <IonItem>\r\n                    <IonLabel>E-mail</IonLabel>\r\n                    <IonInput\r\n                      type=\"email\"\r\n                      placeholder={email + \"\"}\r\n                      onIonChange={(e) => setEmail(e.detail.value!)}\r\n                    ></IonInput>\r\n                  </IonItem>\r\n                  <IonItem>\r\n                    <IonLabel>Mot de passe</IonLabel>\r\n                    <IonInput\r\n                      type=\"password\"\r\n                      placeholder=\"*********\"\r\n                      required\r\n                      onIonChange={(e) => setPwd(e.detail.value!)}\r\n                    ></IonInput>\r\n                  </IonItem>\r\n                  <IonRow>\r\n                    <IonCol>\r\n                      <br />\r\n                      <IonButton\r\n                        class=\"btn-maj\"\r\n                        expand=\"block\"\r\n                        fill=\"clear\"\r\n                        onClick={() => handleSubmitUpdate()}\r\n                      >\r\n                        Mettre à jour\r\n                      </IonButton>\r\n                    </IonCol>\r\n                  </IonRow>\r\n                </IonList>\r\n              </IonCardContent>\r\n            </IonCard>\r\n          </IonCol>\r\n          <IonCol sizeLg=\"6\" sizeXs=\"12\">\r\n            {\" \"}\r\n            <IonCard>\r\n              <IonCardHeader class=\"title-card\">\r\n                <strong>Plus d'information pour plus de résultats</strong>\r\n              </IonCardHeader>\r\n              <IonCardContent>\r\n                <IonList>\r\n                  <IonItem>\r\n                    <IonLabel>Nom</IonLabel>\r\n                    <IonInput\r\n                      type=\"text\"\r\n                      placeholder={fitness.nom}\r\n                      onIonChange={(e) => setNom(e.detail.value!)}\r\n                    ></IonInput>\r\n                  </IonItem>\r\n                  <IonItem>\r\n                    <IonLabel>Prénom</IonLabel>\r\n                    <IonInput\r\n                      type=\"text\"\r\n                      placeholder={fitness.prenom}\r\n                      onIonChange={(e) => setPrenom(e.detail.value!)}\r\n                    ></IonInput>\r\n                  </IonItem>\r\n                  <IonItem>\r\n                    <IonLabel>Date de naissance</IonLabel>\r\n                    <IonDatetime\r\n                      displayFormat=\"YYYY:MM:DD\"\r\n                      value={selectedDate}\r\n                      placeholder={fitness.birthdate}\r\n                      onIonChange={(e) => setSelectedDate(e.detail.value!)}\r\n                    ></IonDatetime>\r\n                  </IonItem>\r\n                  <IonItem>\r\n                    <IonLabel>Sexe</IonLabel>\r\n                    <IonSelect\r\n                      placeholder={fitness.sexe}\r\n                      onIonChange={(e) => setSexe(e.detail.value)}\r\n                    >\r\n                      <IonSelectOption value=\"Homme\">Homme</IonSelectOption>\r\n                      <IonSelectOption value=\"Femmme\">Femme</IonSelectOption>\r\n                    </IonSelect>\r\n                  </IonItem>\r\n                  <IonItem>\r\n                    <IonLabel>Taille (Cm)</IonLabel>\r\n                    <IonInput\r\n                      type=\"number\"\r\n                      placeholder={fitness.taille + \"\"}\r\n                      onIonChange={(e) => setTaille(e.detail.value!)}\r\n                    ></IonInput>\r\n                  </IonItem>\r\n                  <IonItem>\r\n                    <IonLabel>Poids (Kg)</IonLabel>\r\n                    <IonInput\r\n                      type=\"number\"\r\n                      placeholder={fitness.poids + \"\"}\r\n                      onIonChange={(e) => setPoid(e.detail.value!)}\r\n                    ></IonInput>\r\n                  </IonItem>\r\n                  {takePhotoComponent()}\r\n                  {/* <IonItem>\r\n                    <IonSelect\r\n                      placeholder=\"Objectif ...\"\r\n                      onIonChange={(e) => setObj(e.detail.value)}\r\n                    >\r\n                      <IonSelectOption value=\"1\">Maigrir</IonSelectOption>\r\n                      <IonSelectOption value=\"2\">\r\n                        Maintenir le poids\r\n                      </IonSelectOption>\r\n                      <IonSelectOption value=\"3\">Grossir</IonSelectOption>\r\n                    </IonSelect>\r\n                  </IonItem> */}\r\n                  <IonRow>\r\n                    <IonCol>\r\n                      <br />\r\n                      <IonButton\r\n                        class=\"btn-maj\"\r\n                        expand=\"block\"\r\n                        fill=\"clear\"\r\n                        onClick={(e) => handleSubmitMoreInfo()}\r\n                      >\r\n                        Enregistrer\r\n                      </IonButton>\r\n                    </IonCol>\r\n                  </IonRow>\r\n                </IonList>\r\n              </IonCardContent>\r\n            </IonCard>\r\n          </IonCol>\r\n        </IonRow>\r\n      </IonGrid>\r\n    </IonContent>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}