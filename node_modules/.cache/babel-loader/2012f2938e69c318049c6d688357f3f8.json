{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\THINKPAD L480\\\\Desktop\\\\Work\\\\akito\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\THINKPAD L480\\\\Desktop\\\\Work\\\\akito\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\THINKPAD L480\\\\Desktop\\\\Work\\\\akito\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{IonRow,IonButton,IonContent,IonCol,IonIcon,IonList,IonItem,IonSelect,IonLabel,IonSelectOption,IonInput,IonCard,IonCardContent,IonCardHeader,IonDatetime,IonSlides,IonSlide,IonImg,isPlatform,IonFab,IonFabButton,IonAlert}from\"@ionic/react\";import\"./stepper.css\";import axios from\"axios\";import customize from\"../assets/images/customize.png\";import depart from\"../assets/images/depart.png\";import media from\"../assets/images/media.png\";import{usePhotoGallery}from\"../hooks/usePhotoGallery\";import{camera}from\"ionicons/icons\";import\"@ionic/pwa-elements\";var slideOpts={initialSlide:0,speed:400};var Stepper=function Stepper(_ref){var name=_ref.name;var _useState=useState(),_useState2=_slicedToArray(_useState,2),nom=_useState2[0],setNom=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),prenom=_useState4[0],setPrenom=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),poid=_useState6[0],setPoid=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),photo=_useState8[0],setPhoto=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),selectedDate=_useState10[0],setSelectedDate=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),taille=_useState12[0],setTaille=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),sexe=_useState14[0],setSexe=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),alert=_useState16[0],setAlert=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),msg=_useState18[0],setMsg=_useState18[1];function submitMoreInfo(){return _submitMoreInfo.apply(this,arguments);}function _submitMoreInfo(){_submitMoreInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var config;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{Accept:\"application/json\",\"Access-Control-Allow-Headers\":\"Origin, X-Requested-With, Content-Type, Accept\",Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}};_context.next=3;return axios.post(\"http://943d9664f0a6.ngrok.io/api/service/user/\".concat(localStorage.getItem(\"id\"),\"/addProfile\"),{birthdate:selectedDate,currentWeight:poid,firstname:prenom,lastname:nom,gender:sexe,heightCm:taille,image:photos[0].webviewPath},config).then(function(res){localStorage.setItem(\"fitnessExist\",\"true\");window.location.replace(\"/page/Accueil\");}).catch(function(err){return console.log(err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _submitMoreInfo.apply(this,arguments);}function handleSubmitMoreInfo(){console.log(photos);if(photos===undefined){setMsg(\"Vous devez prendre une photo\");setAlert(true);}else{submitMoreInfo();}}var takePhotoComponent=function takePhotoComponent(){// console.log(isPlatform(\"desktop\"));\nif(isPlatform(\"desktop\")){return/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(\"input\",{className:\"item-input\",type:\"file\",onChange:function onChange(e){return setPhoto(e.target.value);}}));}else{return/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonButton,null,\"Choisir une photo\"),/*#__PURE__*/React.createElement(IonImg,{class:\"photoUser\",src:photo}));}};var _usePhotoGallery=usePhotoGallery(),photos=_usePhotoGallery.photos,takePhoto=_usePhotoGallery.takePhoto;return/*#__PURE__*/React.createElement(IonContent,{className:\"stepper-content\"},/*#__PURE__*/React.createElement(IonAlert,{isOpen:alert,onDidDismiss:function onDidDismiss(){return setAlert(false);},header:\"Alert\"//ubHeader={\"Inscription avec succès\"}\n,message:msg,buttons:[\"OK\"]}),/*#__PURE__*/React.createElement(IonSlides,{pager:true,options:slideOpts},/*#__PURE__*/React.createElement(IonSlide,null,/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{sizeXs:\"12\",sizeMd:\"12\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Informations personnelles\"),/*#__PURE__*/React.createElement(IonImg,{src:customize}),/*#__PURE__*/React.createElement(IonList,null,/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Nom\"),/*#__PURE__*/React.createElement(IonInput,{type:\"text\",onIonChange:function onIonChange(e){return setNom(e.detail.value);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Pr\\xE9nom\"),/*#__PURE__*/React.createElement(IonInput,{type:\"text\",onIonChange:function onIonChange(e){return setPrenom(e.detail.value);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Sexe\"),/*#__PURE__*/React.createElement(IonSelect,{onIonChange:function onIonChange(e){return setSexe(e.detail.value);}},/*#__PURE__*/React.createElement(IonSelectOption,{value:\"Homme\"},\"Homme\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"Femmme\"},\"Femme\"))),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Date de naissance\"),/*#__PURE__*/React.createElement(IonDatetime,{displayFormat:\"YYYY:MM:DD\",value:selectedDate,onIonChange:function onIonChange(e){return setSelectedDate(e.detail.value);}})))))),/*#__PURE__*/React.createElement(IonSlide,null,/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{sizeXs:\"12\",sizeMd:\"12\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Point de d\\xE9part\"),/*#__PURE__*/React.createElement(IonImg,{src:depart}),/*#__PURE__*/React.createElement(IonList,null,/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Taille (Cm)\"),/*#__PURE__*/React.createElement(IonInput,{type:\"number\",onIonChange:function onIonChange(e){return setTaille(e.detail.value);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Poids (Kg)\"),/*#__PURE__*/React.createElement(IonInput,{type:\"number\",onIonChange:function onIonChange(e){return setPoid(e.detail.value);}})))))),/*#__PURE__*/React.createElement(IonSlide,null,/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonImg,{src:media}),/*#__PURE__*/React.createElement(IonCard,null,/*#__PURE__*/React.createElement(IonCardHeader,null,\" \",/*#__PURE__*/React.createElement(IonContent,{className:\"fab-container\"},/*#__PURE__*/React.createElement(IonFab,{horizontal:\"center\",slot:\"fixed\"},/*#__PURE__*/React.createElement(IonFabButton,{onClick:function onClick(){return takePhoto();}},/*#__PURE__*/React.createElement(IonIcon,{icon:camera})))),/*#__PURE__*/React.createElement(\"br\",null),photos.map(function(photo,index){return/*#__PURE__*/React.createElement(IonImg,{src:photo.base64,className:\"img-picked\"});})),/*#__PURE__*/React.createElement(IonCardContent,null,/*#__PURE__*/React.createElement(IonButton,{expand:\"block\",fill:\"clear\",color:\"success\",onClick:function onClick(e){return handleSubmitMoreInfo();}},\"Valider\"))))))));};export default Stepper;","map":{"version":3,"sources":["C:/Users/THINKPAD L480/Desktop/Work/akito/src/components/Stepper.tsx"],"names":["React","useState","IonRow","IonButton","IonContent","IonCol","IonIcon","IonList","IonItem","IonSelect","IonLabel","IonSelectOption","IonInput","IonCard","IonCardContent","IonCardHeader","IonDatetime","IonSlides","IonSlide","IonImg","isPlatform","IonFab","IonFabButton","IonAlert","axios","customize","depart","media","usePhotoGallery","camera","slideOpts","initialSlide","speed","Stepper","name","nom","setNom","prenom","setPrenom","poid","setPoid","photo","setPhoto","selectedDate","setSelectedDate","taille","setTaille","sexe","setSexe","alert","setAlert","msg","setMsg","submitMoreInfo","config","headers","Accept","Authorization","localStorage","getItem","post","birthdate","currentWeight","firstname","lastname","gender","heightCm","image","photos","webviewPath","then","res","setItem","window","location","replace","catch","err","console","log","handleSubmitMoreInfo","undefined","takePhotoComponent","e","target","value","takePhoto","detail","map","index","base64"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  IonGrid,\r\n  IonRow,\r\n  IonButton,\r\n  IonContent,\r\n  IonHeader,\r\n  IonCol,\r\n  IonIcon,\r\n  IonList,\r\n  IonItem,\r\n  IonItemDivider,\r\n  IonSelect,\r\n  IonLabel,\r\n  IonSelectOption,\r\n  IonInput,\r\n  IonCard,\r\n  IonCardContent,\r\n  IonCardHeader,\r\n  IonDatetime,\r\n  IonSegment,\r\n  IonSegmentButton,\r\n  IonText,\r\n  IonSlides,\r\n  IonSlide,\r\n  IonImg,\r\n  isPlatform,\r\n  IonFab,\r\n  IonFabButton,\r\n  IonAlert,\r\n} from \"@ionic/react\";\r\nimport \"./stepper.css\";\r\nimport axios from \"axios\";\r\nimport customize from \"../assets/images/customize.png\";\r\nimport depart from \"../assets/images/depart.png\";\r\nimport media from \"../assets/images/media.png\";\r\nimport { usePhotoGallery } from \"../hooks/usePhotoGallery\";\r\nimport { camera, trash, close } from \"ionicons/icons\";\r\nimport \"@ionic/pwa-elements\";\r\ninterface StepperProps {\r\n  name: string;\r\n}\r\nconst slideOpts = {\r\n  initialSlide: 0,\r\n  speed: 400,\r\n};\r\n\r\nconst Stepper: React.FC<StepperProps> = ({ name }) => {\r\n  const [nom, setNom] = useState<string>();\r\n  const [prenom, setPrenom] = useState<string>();\r\n  const [poid, setPoid] = useState<string>();\r\n  const [photo, setPhoto] = useState<string>();\r\n  const [selectedDate, setSelectedDate] = useState<string>(\"\");\r\n  const [taille, setTaille] = useState<String>();\r\n  const [sexe, setSexe] = useState<String>();\r\n  const [alert, setAlert] = useState(false);\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  async function submitMoreInfo() {\r\n    let config = {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Access-Control-Allow-Headers\":\r\n          \"Origin, X-Requested-With, Content-Type, Accept\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    };\r\n    await axios\r\n      .post(\r\n        `http://943d9664f0a6.ngrok.io/api/service/user/${localStorage.getItem(\r\n          \"id\"\r\n        )}/addProfile`,\r\n        {\r\n          birthdate: selectedDate,\r\n          currentWeight: poid,\r\n          firstname: prenom,\r\n          lastname: nom,\r\n          gender: sexe,\r\n          heightCm: taille,\r\n          image: photos[0].webviewPath,\r\n        },\r\n        config\r\n      )\r\n      .then((res) => {\r\n        localStorage.setItem(\"fitnessExist\", \"true\");\r\n        window.location.replace(\"/page/Accueil\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleSubmitMoreInfo() {\r\n    console.log(photos);\r\n    if (photos === undefined) {\r\n      setMsg(\"Vous devez prendre une photo\");\r\n      setAlert(true);\r\n    } else {\r\n      submitMoreInfo();\r\n    }\r\n  }\r\n\r\n  const takePhotoComponent = () => {\r\n    // console.log(isPlatform(\"desktop\"));\r\n    if (isPlatform(\"desktop\")) {\r\n      return (\r\n        <IonItem>\r\n          <input\r\n            className=\"item-input\"\r\n            type=\"file\"\r\n            onChange={(e) => setPhoto(e.target.value)}\r\n          ></input>\r\n        </IonItem>\r\n      );\r\n    } else {\r\n      return (\r\n        <IonItem>\r\n          <IonButton>Choisir une photo</IonButton>\r\n          <IonImg class=\"photoUser\" src={photo}></IonImg>\r\n        </IonItem>\r\n      );\r\n    }\r\n  };\r\n  const { photos, takePhoto } = usePhotoGallery();\r\n\r\n  return (\r\n    <IonContent className=\"stepper-content\">\r\n      <IonAlert\r\n        isOpen={alert}\r\n        onDidDismiss={() => setAlert(false)}\r\n        header={\"Alert\"}\r\n        //ubHeader={\"Inscription avec succès\"}\r\n        message={msg}\r\n        buttons={[\"OK\"]}\r\n      />\r\n      <IonSlides pager={true} options={slideOpts}>\r\n        <IonSlide>\r\n          <IonRow>\r\n            <IonCol sizeXs=\"12\" sizeMd=\"12\">\r\n              <h3>Informations personnelles</h3>\r\n              <IonImg src={customize}></IonImg>\r\n              <IonList>\r\n                <IonItem>\r\n                  <IonLabel>Nom</IonLabel>\r\n                  <IonInput\r\n                    type=\"text\"\r\n                    onIonChange={(e) => setNom(e.detail.value!)}\r\n                  ></IonInput>\r\n                </IonItem>\r\n                <IonItem>\r\n                  <IonLabel>Prénom</IonLabel>\r\n                  <IonInput\r\n                    type=\"text\"\r\n                    onIonChange={(e) => setPrenom(e.detail.value!)}\r\n                  ></IonInput>\r\n                </IonItem>\r\n                <IonItem>\r\n                  <IonLabel>Sexe</IonLabel>\r\n                  <IonSelect onIonChange={(e) => setSexe(e.detail.value)}>\r\n                    <IonSelectOption value=\"Homme\">Homme</IonSelectOption>\r\n                    <IonSelectOption value=\"Femmme\">Femme</IonSelectOption>\r\n                  </IonSelect>\r\n                </IonItem>\r\n                <IonItem>\r\n                  <IonLabel>Date de naissance</IonLabel>\r\n                  <IonDatetime\r\n                    displayFormat=\"YYYY:MM:DD\"\r\n                    value={selectedDate}\r\n                    onIonChange={(e) => setSelectedDate(e.detail.value!)}\r\n                  ></IonDatetime>\r\n                </IonItem>\r\n              </IonList>\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonSlide>\r\n        <IonSlide>\r\n          <IonRow>\r\n            <IonCol sizeXs=\"12\" sizeMd=\"12\">\r\n              <h3>Point de départ</h3>\r\n              <IonImg src={depart}></IonImg>\r\n              <IonList>\r\n                <IonItem>\r\n                  <IonLabel>Taille (Cm)</IonLabel>\r\n                  <IonInput\r\n                    type=\"number\"\r\n                    onIonChange={(e) => setTaille(e.detail.value!)}\r\n                  ></IonInput>\r\n                </IonItem>\r\n                <IonItem>\r\n                  <IonLabel>Poids (Kg)</IonLabel>\r\n                  <IonInput\r\n                    type=\"number\"\r\n                    onIonChange={(e) => setPoid(e.detail.value!)}\r\n                  ></IonInput>\r\n                </IonItem>\r\n              </IonList>\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonSlide>\r\n        <IonSlide>\r\n          <IonRow>\r\n            <IonCol>\r\n              <IonImg src={media}></IonImg>\r\n              <IonCard>\r\n                <IonCardHeader>\r\n                  {\" \"}\r\n                  <IonContent className=\"fab-container\">\r\n                    <IonFab horizontal=\"center\" slot=\"fixed\">\r\n                      <IonFabButton onClick={() => takePhoto()}>\r\n                        <IonIcon icon={camera}></IonIcon>\r\n                      </IonFabButton>\r\n                    </IonFab>\r\n                  </IonContent>\r\n                  <br />\r\n                  {photos.map((photo, index) => (\r\n                    <IonImg src={photo.base64} className=\"img-picked\" />\r\n                  ))}\r\n                </IonCardHeader>\r\n                <IonCardContent>\r\n                  <IonButton\r\n                    expand=\"block\"\r\n                    fill=\"clear\"\r\n                    color=\"success\"\r\n                    onClick={(e) => handleSubmitMoreInfo()}\r\n                  >\r\n                    Valider\r\n                  </IonButton>\r\n                </IonCardContent>\r\n              </IonCard>\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonSlide>\r\n      </IonSlides>\r\n    </IonContent>\r\n  );\r\n};\r\n\r\nexport default Stepper;\r\n"]},"metadata":{},"sourceType":"module"}