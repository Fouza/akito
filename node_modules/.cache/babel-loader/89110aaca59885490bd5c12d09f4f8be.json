{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\THINKPAD L480\\\\Desktop\\\\Work\\\\akito\\\\src\\\\components\\\\Stepper.tsx\";\nimport React, { useState } from \"react\";\nimport { IonRow, IonButton, IonContent, IonCol, IonIcon, IonList, IonItem, IonSelect, IonLabel, IonSelectOption, IonInput, IonCard, IonCardContent, IonCardHeader, IonDatetime, IonSlides, IonSlide, IonImg, isPlatform, IonFab, IonFabButton, IonAlert } from \"@ionic/react\";\nimport \"./stepper.css\";\nimport axios from \"axios\";\nimport customize from \"../assets/images/customize.png\";\nimport depart from \"../assets/images/depart.png\";\nimport media from \"../assets/images/media.png\";\nimport { usePhotoGallery } from \"../hooks/usePhotoGallery\";\nimport { camera } from \"ionicons/icons\";\nimport \"@ionic/pwa-elements\";\nconst slideOpts = {\n  initialSlide: 0,\n  speed: 400\n};\n\nconst Stepper = ({\n  name\n}) => {\n  const [nom, setNom] = useState();\n  const [prenom, setPrenom] = useState();\n  const [poid, setPoid] = useState();\n  const [photo, setPhoto] = useState();\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const [taille, setTaille] = useState();\n  const [sexe, setSexe] = useState();\n  const [alert, setAlert] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n\n  async function submitMoreInfo() {\n    let config = {\n      headers: {\n        Accept: \"application/json\",\n        \"Access-Control-Allow-Headers\": \"Origin, X-Requested-With, Content-Type, Accept\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    };\n    await axios.post(`http://c51e59d288f7.ngrok.io/api/service/user/${localStorage.getItem(\"id\")}/addProfile`, {\n      birthdate: selectedDate,\n      currentWeight: poid,\n      firstname: prenom,\n      lastname: nom,\n      gender: sexe,\n      heightCm: taille,\n      image: photos[0].filepath\n    }, config).then(res => {\n      localStorage.setItem(\"fitnessExist\", \"true\");\n      window.location.replace(\"/page/Accueil\");\n    }).catch(err => console.log(err));\n  }\n\n  function handleSubmitMoreInfo() {\n    if (photo === undefined) {\n      setMsg(\"Vous devez prendre une photo\");\n      setAlert(true);\n    } else {\n      submitMoreInfo();\n    }\n  }\n\n  const takePhotoComponent = () => {\n    // console.log(isPlatform(\"desktop\"));\n    if (isPlatform(\"desktop\")) {\n      return /*#__PURE__*/React.createElement(IonItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"item-input\",\n        type: \"file\",\n        onChange: e => setPhoto(e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(IonItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(IonButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, \"Choisir une photo\"), /*#__PURE__*/React.createElement(IonImg, {\n        class: \"photoUser\",\n        src: photo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }\n      }));\n    }\n  };\n\n  const {\n    photos,\n    takePhoto\n  } = usePhotoGallery();\n  return /*#__PURE__*/React.createElement(IonContent, {\n    className: \"stepper-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: alert,\n    onDidDismiss: () => setAlert(false),\n    header: \"Alert\" //ubHeader={\"Inscription avec succès\"}\n    ,\n    message: msg,\n    buttons: [\"OK\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonSlides, {\n    pager: true,\n    options: slideOpts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonSlide, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    sizeXs: \"12\",\n    sizeMd: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }, \"Informations personnelles\"), /*#__PURE__*/React.createElement(IonImg, {\n    src: customize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(IonList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }, \"Nom\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"text\",\n    onIonChange: e => setNom(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, \"Pr\\xE9nom\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"text\",\n    onIonChange: e => setPrenom(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  }, \"Sexe\"), /*#__PURE__*/React.createElement(IonSelect, {\n    onIonChange: e => setSexe(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"Homme\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, \"Homme\"), /*#__PURE__*/React.createElement(IonSelectOption, {\n    value: \"Femmme\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"Femme\"))), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, \"Date de naissance\"), /*#__PURE__*/React.createElement(IonDatetime, {\n    displayFormat: \"YYYY:MM:DD\",\n    value: selectedDate,\n    onIonChange: e => setSelectedDate(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  })))))), /*#__PURE__*/React.createElement(IonSlide, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    sizeXs: \"12\",\n    sizeMd: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, \"Point de d\\xE9part\"), /*#__PURE__*/React.createElement(IonImg, {\n    src: depart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(IonList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }, \"Taille (Cm)\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"number\",\n    onIonChange: e => setTaille(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 19\n    }\n  }, \"Poids (Kg)\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"number\",\n    onIonChange: e => setPoid(e.detail.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 19\n    }\n  })))))), /*#__PURE__*/React.createElement(IonSlide, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonCol, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonImg, {\n    src: media,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(IonCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonCardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, \" \", /*#__PURE__*/React.createElement(IonContent, {\n    className: \"fab-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonFab, {\n    horizontal: \"center\",\n    slot: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonFabButton, {\n    onClick: () => takePhoto(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: camera,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }), photos.map((photo, index) => /*#__PURE__*/React.createElement(IonImg, {\n    src: photo.webviewPath,\n    className: \"img-picked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(IonCardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    expand: \"block\",\n    fill: \"clear\",\n    color: \"success\",\n    onClick: e => handleSubmitMoreInfo(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 19\n    }\n  }, \"Valider\"))))))));\n};\n\nexport default Stepper;","map":{"version":3,"sources":["C:/Users/THINKPAD L480/Desktop/Work/akito/src/components/Stepper.tsx"],"names":["React","useState","IonRow","IonButton","IonContent","IonCol","IonIcon","IonList","IonItem","IonSelect","IonLabel","IonSelectOption","IonInput","IonCard","IonCardContent","IonCardHeader","IonDatetime","IonSlides","IonSlide","IonImg","isPlatform","IonFab","IonFabButton","IonAlert","axios","customize","depart","media","usePhotoGallery","camera","slideOpts","initialSlide","speed","Stepper","name","nom","setNom","prenom","setPrenom","poid","setPoid","photo","setPhoto","selectedDate","setSelectedDate","taille","setTaille","sexe","setSexe","alert","setAlert","msg","setMsg","submitMoreInfo","config","headers","Accept","Authorization","localStorage","getItem","post","birthdate","currentWeight","firstname","lastname","gender","heightCm","image","photos","filepath","then","res","setItem","window","location","replace","catch","err","console","log","handleSubmitMoreInfo","undefined","takePhotoComponent","e","target","value","takePhoto","detail","map","index","webviewPath"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAA2C,OAA3C;AACA,SAEEC,MAFF,EAGEC,SAHF,EAIEC,UAJF,EAMEC,MANF,EAOEC,OAPF,EAQEC,OARF,EASEC,OATF,EAWEC,SAXF,EAYEC,QAZF,EAaEC,eAbF,EAcEC,QAdF,EAeEC,OAfF,EAgBEC,cAhBF,EAiBEC,aAjBF,EAkBEC,WAlBF,EAsBEC,SAtBF,EAuBEC,QAvBF,EAwBEC,MAxBF,EAyBEC,UAzBF,EA0BEC,MA1BF,EA2BEC,YA3BF,EA4BEC,QA5BF,QA6BO,cA7BP;AA8BA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,KAAP,MAAkB,4BAAlB;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,SAASC,MAAT,QAAqC,gBAArC;AACA,OAAO,qBAAP;AAIA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,YAAY,EAAE,CADE;AAEhBC,EAAAA,KAAK,EAAE;AAFS,CAAlB;;AAKA,MAAMC,OAA+B,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AACpD,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBnC,QAAQ,EAA9B;AACA,QAAM,CAACoC,MAAD,EAASC,SAAT,IAAsBrC,QAAQ,EAApC;AACA,QAAM,CAACsC,IAAD,EAAOC,OAAP,IAAkBvC,QAAQ,EAAhC;AACA,QAAM,CAACwC,KAAD,EAAQC,QAAR,IAAoBzC,QAAQ,EAAlC;AACA,QAAM,CAAC0C,YAAD,EAAeC,eAAf,IAAkC3C,QAAQ,CAAS,EAAT,CAAhD;AACA,QAAM,CAAC4C,MAAD,EAASC,SAAT,IAAsB7C,QAAQ,EAApC;AACA,QAAM,CAAC8C,IAAD,EAAOC,OAAP,IAAkB/C,QAAQ,EAAhC;AACA,QAAM,CAACgD,KAAD,EAAQC,QAAR,IAAoBjD,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACkD,GAAD,EAAMC,MAAN,IAAgBnD,QAAQ,CAAC,EAAD,CAA9B;;AAEA,iBAAeoD,cAAf,GAAgC;AAC9B,QAAIC,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wCACE,gDAHK;AAIPC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAJhD;AADE,KAAb;AAQA,UAAMnC,KAAK,CACRoC,IADG,CAED,iDAAgDF,YAAY,CAACC,OAAb,CAC/C,IAD+C,CAE/C,aAJA,EAKF;AACEE,MAAAA,SAAS,EAAElB,YADb;AAEEmB,MAAAA,aAAa,EAAEvB,IAFjB;AAGEwB,MAAAA,SAAS,EAAE1B,MAHb;AAIE2B,MAAAA,QAAQ,EAAE7B,GAJZ;AAKE8B,MAAAA,MAAM,EAAElB,IALV;AAMEmB,MAAAA,QAAQ,EAAErB,MANZ;AAOEsB,MAAAA,KAAK,EAAEC,MAAM,CAAC,CAAD,CAAN,CAAUC;AAPnB,KALE,EAcFf,MAdE,EAgBHgB,IAhBG,CAgBGC,GAAD,IAAS;AACbb,MAAAA,YAAY,CAACc,OAAb,CAAqB,cAArB,EAAqC,MAArC;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,eAAxB;AACD,KAnBG,EAoBHC,KApBG,CAoBIC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CApBZ,CAAN;AAqBD;;AAED,WAASG,oBAAT,GAAgC;AAC9B,QAAIvC,KAAK,KAAKwC,SAAd,EAAyB;AACvB7B,MAAAA,MAAM,CAAC,8BAAD,CAAN;AACAF,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAHD,MAGO;AACLG,MAAAA,cAAc;AACf;AACF;;AAED,QAAM6B,kBAAkB,GAAG,MAAM;AAC/B;AACA,QAAI9D,UAAU,CAAC,SAAD,CAAd,EAA2B;AACzB,0BACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,SAAS,EAAC,YADZ;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,QAAQ,EAAG+D,CAAD,IAAOzC,QAAQ,CAACyC,CAAC,CAACC,MAAF,CAASC,KAAV,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AASD,KAVD,MAUO;AACL,0BACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,eAEE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,WAAd;AAA0B,QAAA,GAAG,EAAE5C,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAMD;AACF,GApBD;;AAqBA,QAAM;AAAE2B,IAAAA,MAAF;AAAUkB,IAAAA;AAAV,MAAwB1D,eAAe,EAA7C;AAEA,sBACE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AACE,IAAA,MAAM,EAAEqB,KADV;AAEE,IAAA,YAAY,EAAE,MAAMC,QAAQ,CAAC,KAAD,CAF9B;AAGE,IAAA,MAAM,EAAE,OAHV,CAIE;AAJF;AAKE,IAAA,OAAO,EAAEC,GALX;AAME,IAAA,OAAO,EAAE,CAAC,IAAD,CANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eASE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE,IAAlB;AAAwB,IAAA,OAAO,EAAErB,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAC,IAAf;AAAoB,IAAA,MAAM,EAAC,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAEL,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,eAEE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAG0D,CAAD,IAAO/C,MAAM,CAAC+C,CAAC,CAACI,MAAF,CAASF,KAAV,CAF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAQE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAGF,CAAD,IAAO7C,SAAS,CAAC6C,CAAC,CAACI,MAAF,CAASF,KAAV,CAF/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CARF,eAeE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,oBAAC,SAAD;AAAW,IAAA,WAAW,EAAGF,CAAD,IAAOnC,OAAO,CAACmC,CAAC,CAACI,MAAF,CAASF,KAAV,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,eAAD;AAAiB,IAAA,KAAK,EAAC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE,oBAAC,eAAD;AAAiB,IAAA,KAAK,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,CAFF,CAfF,eAsBE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE,oBAAC,WAAD;AACE,IAAA,aAAa,EAAC,YADhB;AAEE,IAAA,KAAK,EAAE1C,YAFT;AAGE,IAAA,WAAW,EAAGwC,CAAD,IAAOvC,eAAe,CAACuC,CAAC,CAACI,MAAF,CAASF,KAAV,CAHrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAtBF,CAHF,CADF,CADF,CADF,eAwCE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,MAAM,EAAC,IAAf;AAAoB,IAAA,MAAM,EAAC,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAE3D,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,WAAW,EAAGyD,CAAD,IAAOrC,SAAS,CAACqC,CAAC,CAACI,MAAF,CAASF,KAAV,CAF/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAQE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,WAAW,EAAGF,CAAD,IAAO3C,OAAO,CAAC2C,CAAC,CAACI,MAAF,CAASF,KAAV,CAF7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CARF,CAHF,CADF,CADF,CAxCF,eAgEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAE1D,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,eAEE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,UAAU,EAAC,QAAnB;AAA4B,IAAA,IAAI,EAAC,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAE,MAAM2D,SAAS,EAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAEzD,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,CAFF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAUGuC,MAAM,CAACoB,GAAP,CAAW,CAAC/C,KAAD,EAAQgD,KAAR,kBACV,oBAAC,MAAD;AAAQ,IAAA,GAAG,EAAEhD,KAAK,CAACiD,WAAnB;AAAgC,IAAA,SAAS,EAAC,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CAVH,CADF,eAeE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,MAAM,EAAC,OADT;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAC,SAHR;AAIE,IAAA,OAAO,EAAGP,CAAD,IAAOH,oBAAoB,EAJtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAfF,CAFF,CADF,CADF,CAhEF,CATF,CADF;AA8GD,CAzLD;;AA2LA,eAAe/C,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  IonGrid,\r\n  IonRow,\r\n  IonButton,\r\n  IonContent,\r\n  IonHeader,\r\n  IonCol,\r\n  IonIcon,\r\n  IonList,\r\n  IonItem,\r\n  IonItemDivider,\r\n  IonSelect,\r\n  IonLabel,\r\n  IonSelectOption,\r\n  IonInput,\r\n  IonCard,\r\n  IonCardContent,\r\n  IonCardHeader,\r\n  IonDatetime,\r\n  IonSegment,\r\n  IonSegmentButton,\r\n  IonText,\r\n  IonSlides,\r\n  IonSlide,\r\n  IonImg,\r\n  isPlatform,\r\n  IonFab,\r\n  IonFabButton,\r\n  IonAlert,\r\n} from \"@ionic/react\";\r\nimport \"./stepper.css\";\r\nimport axios from \"axios\";\r\nimport customize from \"../assets/images/customize.png\";\r\nimport depart from \"../assets/images/depart.png\";\r\nimport media from \"../assets/images/media.png\";\r\nimport { usePhotoGallery } from \"../hooks/usePhotoGallery\";\r\nimport { camera, trash, close } from \"ionicons/icons\";\r\nimport \"@ionic/pwa-elements\";\r\ninterface StepperProps {\r\n  name: string;\r\n}\r\nconst slideOpts = {\r\n  initialSlide: 0,\r\n  speed: 400,\r\n};\r\n\r\nconst Stepper: React.FC<StepperProps> = ({ name }) => {\r\n  const [nom, setNom] = useState<string>();\r\n  const [prenom, setPrenom] = useState<string>();\r\n  const [poid, setPoid] = useState<string>();\r\n  const [photo, setPhoto] = useState<string>();\r\n  const [selectedDate, setSelectedDate] = useState<string>(\"\");\r\n  const [taille, setTaille] = useState<String>();\r\n  const [sexe, setSexe] = useState<String>();\r\n  const [alert, setAlert] = useState(false);\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  async function submitMoreInfo() {\r\n    let config = {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Access-Control-Allow-Headers\":\r\n          \"Origin, X-Requested-With, Content-Type, Accept\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    };\r\n    await axios\r\n      .post(\r\n        `http://c51e59d288f7.ngrok.io/api/service/user/${localStorage.getItem(\r\n          \"id\"\r\n        )}/addProfile`,\r\n        {\r\n          birthdate: selectedDate,\r\n          currentWeight: poid,\r\n          firstname: prenom,\r\n          lastname: nom,\r\n          gender: sexe,\r\n          heightCm: taille,\r\n          image: photos[0].filepath,\r\n        },\r\n        config\r\n      )\r\n      .then((res) => {\r\n        localStorage.setItem(\"fitnessExist\", \"true\");\r\n        window.location.replace(\"/page/Accueil\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleSubmitMoreInfo() {\r\n    if (photo === undefined) {\r\n      setMsg(\"Vous devez prendre une photo\");\r\n      setAlert(true);\r\n    } else {\r\n      submitMoreInfo();\r\n    }\r\n  }\r\n\r\n  const takePhotoComponent = () => {\r\n    // console.log(isPlatform(\"desktop\"));\r\n    if (isPlatform(\"desktop\")) {\r\n      return (\r\n        <IonItem>\r\n          <input\r\n            className=\"item-input\"\r\n            type=\"file\"\r\n            onChange={(e) => setPhoto(e.target.value)}\r\n          ></input>\r\n        </IonItem>\r\n      );\r\n    } else {\r\n      return (\r\n        <IonItem>\r\n          <IonButton>Choisir une photo</IonButton>\r\n          <IonImg class=\"photoUser\" src={photo}></IonImg>\r\n        </IonItem>\r\n      );\r\n    }\r\n  };\r\n  const { photos, takePhoto } = usePhotoGallery();\r\n\r\n  return (\r\n    <IonContent className=\"stepper-content\">\r\n      <IonAlert\r\n        isOpen={alert}\r\n        onDidDismiss={() => setAlert(false)}\r\n        header={\"Alert\"}\r\n        //ubHeader={\"Inscription avec succès\"}\r\n        message={msg}\r\n        buttons={[\"OK\"]}\r\n      />\r\n      <IonSlides pager={true} options={slideOpts}>\r\n        <IonSlide>\r\n          <IonRow>\r\n            <IonCol sizeXs=\"12\" sizeMd=\"12\">\r\n              <h3>Informations personnelles</h3>\r\n              <IonImg src={customize}></IonImg>\r\n              <IonList>\r\n                <IonItem>\r\n                  <IonLabel>Nom</IonLabel>\r\n                  <IonInput\r\n                    type=\"text\"\r\n                    onIonChange={(e) => setNom(e.detail.value!)}\r\n                  ></IonInput>\r\n                </IonItem>\r\n                <IonItem>\r\n                  <IonLabel>Prénom</IonLabel>\r\n                  <IonInput\r\n                    type=\"text\"\r\n                    onIonChange={(e) => setPrenom(e.detail.value!)}\r\n                  ></IonInput>\r\n                </IonItem>\r\n                <IonItem>\r\n                  <IonLabel>Sexe</IonLabel>\r\n                  <IonSelect onIonChange={(e) => setSexe(e.detail.value)}>\r\n                    <IonSelectOption value=\"Homme\">Homme</IonSelectOption>\r\n                    <IonSelectOption value=\"Femmme\">Femme</IonSelectOption>\r\n                  </IonSelect>\r\n                </IonItem>\r\n                <IonItem>\r\n                  <IonLabel>Date de naissance</IonLabel>\r\n                  <IonDatetime\r\n                    displayFormat=\"YYYY:MM:DD\"\r\n                    value={selectedDate}\r\n                    onIonChange={(e) => setSelectedDate(e.detail.value!)}\r\n                  ></IonDatetime>\r\n                </IonItem>\r\n              </IonList>\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonSlide>\r\n        <IonSlide>\r\n          <IonRow>\r\n            <IonCol sizeXs=\"12\" sizeMd=\"12\">\r\n              <h3>Point de départ</h3>\r\n              <IonImg src={depart}></IonImg>\r\n              <IonList>\r\n                <IonItem>\r\n                  <IonLabel>Taille (Cm)</IonLabel>\r\n                  <IonInput\r\n                    type=\"number\"\r\n                    onIonChange={(e) => setTaille(e.detail.value!)}\r\n                  ></IonInput>\r\n                </IonItem>\r\n                <IonItem>\r\n                  <IonLabel>Poids (Kg)</IonLabel>\r\n                  <IonInput\r\n                    type=\"number\"\r\n                    onIonChange={(e) => setPoid(e.detail.value!)}\r\n                  ></IonInput>\r\n                </IonItem>\r\n              </IonList>\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonSlide>\r\n        <IonSlide>\r\n          <IonRow>\r\n            <IonCol>\r\n              <IonImg src={media}></IonImg>\r\n              <IonCard>\r\n                <IonCardHeader>\r\n                  {\" \"}\r\n                  <IonContent className=\"fab-container\">\r\n                    <IonFab horizontal=\"center\" slot=\"fixed\">\r\n                      <IonFabButton onClick={() => takePhoto()}>\r\n                        <IonIcon icon={camera}></IonIcon>\r\n                      </IonFabButton>\r\n                    </IonFab>\r\n                  </IonContent>\r\n                  <br />\r\n                  {photos.map((photo, index) => (\r\n                    <IonImg src={photo.webviewPath} className=\"img-picked\" />\r\n                  ))}\r\n                </IonCardHeader>\r\n                <IonCardContent>\r\n                  <IonButton\r\n                    expand=\"block\"\r\n                    fill=\"clear\"\r\n                    color=\"success\"\r\n                    onClick={(e) => handleSubmitMoreInfo()}\r\n                  >\r\n                    Valider\r\n                  </IonButton>\r\n                </IonCardContent>\r\n              </IonCard>\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonSlide>\r\n      </IonSlides>\r\n    </IonContent>\r\n  );\r\n};\r\n\r\nexport default Stepper;\r\n"]},"metadata":{},"sourceType":"module"}